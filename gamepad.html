<!DOCTYPE html>
<html>
<head>
  <style>
    #log {
      width: 300px;
      height: 100px;
      border: 1px solid black;
      overflow-y: scroll;
    }
  </style>
</head>
<body>
  <div id="log"></div>

  <script>
    window.addEventListener("gamepadconnected", function(e) {
      console.log("Gamepad connected");
    });

    window.addEventListener("gamepaddisconnected", function(e) {
      console.log("Gamepad disconnected");
    });

    function updateLog(message) {
      var log = document.getElementById("log");
      var p = document.createElement("p");
      p.textContent = message;
      log.appendChild(p);

      if (log.childNodes.length > 5) {
        log.removeChild(log.firstChild);
      }

      log.scrollTop = log.scrollHeight;
    }

    window.addEventListener("gamepadbuttondown", function(e) {
      var buttonPressed = e.detail.button;
      var message = "Gamepad button " + buttonPressed + " was pressed.";
      updateLog(message);
    });
  </script>
</body>
</html>
